<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" type="text/css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" type="text/css">
    <title>Food Lovers!</title>
</head>
<body>
  <header class="navbar-fixed">
    <nav>
      <div class="nav-wrapper red darken-4">
        <a id="logo" href="{{ url_for('home') }}" class="brand-logo">Food Lovers</a>
        <a href="#" data-target="mobile-demo" class="sidenav-trigger right"><i class="material-icons">menu</i></a>
        <ul class="right hide-on-med-and-down">
          <li><a href="{{ url_for('home') }}">Home</a></li>
          <li><a href="{{ url_for('get_recipe_categories') }}">Recipes</a></li>
          <!-- renders if user is logged in -->
          {% if session.user %}
            <li><a href="{{ url_for('add_recipe') }}">Add Recipe</a></li> 
            <li><a href="{{ url_for('profile', username=session['user']) }}">My Profile</a></li>
            <li><a href="{{ url_for('logout') }}">Log Out</a></li>
          {% else %}
          <!-- render's when user logs out -->
            <li><a href="{{ url_for('register') }}">Register</a></li>
            <li><a href="{{ url_for('login') }}">Log In</a></li>
          {% endif %}
        </ul>
      </div>
    </nav>

    <!-- Mobile Side Navigation -->
    <ul class="sidenav" id="mobile-demo">
      <li><h4 class="center-align red-text text-darken-4">Food Lovers</h4></li>
      <li><a href="{{ url_for('home') }}">Home</a></li>
      <li><a href="{{ url_for('get_recipe_categories') }}">Recipes</a></li>
      <!-- renders if user is logged in -->
      {% if session.user %}
        <li><a href="{{ url_for('add_recipe') }}">Add Recipe</a></li> 
        <li><a href="{{ url_for('profile', username=session['user']) }}">My Profile</a></li>
        <li><a href="{{ url_for('logout') }}">Log Out</a></li>
      {% else %}
      <!-- render's when user logs out -->
        <li><a href="{{ url_for('register') }}">Register</a></li>
        <li><a href="{{ url_for('login') }}">Log In</a></li>
      {% endif %}
    </ul>
           
  </header>
  
  <section>
    <!-- 
      Display flash message feed back for users
      Source code example from CODE institute 'Backend Development' module
      https://github.com/Code-Institute-Solutions/TaskManagerAuth/blob/main/08-SearchingWithinTheDatabase/01-text_index_searching/templates/base.html
     -->
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
                <div class="row flashes">
                    <h4 class="light-blue lighten-4 center-align">{{ message }}</h4>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
  </section>
  
  
  {% block content %}
  {% endblock %}
 

  <footer class="grey darken-2" >
    <p>Copyright 2021 &copy; Canadian Business College - Milestone Project - Python and Data Centric
      Development - Kenneth Adjei</p>
  </footer>

  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script src="{{ url_for('static', filename='js/script.js') }}"></script>
  
</body>
</html>